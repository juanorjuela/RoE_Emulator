<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#8B4513">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéµ</text></svg>">
    <title>Rave Tycoon Game Cards Management</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="game-header">
            <h1>Rave Tycoon</h1>
            <h2>Board Game Assistant</h2>
        </header>
        
        <section class="lobby-section">
            <h2>Multiplayer Lobby</h2>
            <input type="text" id="player-name" placeholder="Enter your player name" />
            <button id="create-room-btn">Create Room</button>
            <input type="text" id="room-id" placeholder="Enter room code to join" />
            <button id="join-room-btn">Join Room</button>
            <div id="room-info"></div>
        </section>

        <main class="game-area">
            <section class="dice-section">
                <div class="dice-box">
                    <div id="dice" class="dice">
                        <span class="number">1</span>
                    </div>
                    <div id="dice2" class="dice">
                        <span class="number2">1</span>
                    </div>
                </div>
            </section>

            <section class="actions-section">
                <button id="grab-action-cards-btn">Fill up your ACTIONS</button>
                <div class="player-cards" id="player-cards"></div>
            </section>

            <section class="fuckups-section">
                <button id="round-card-btn">Grab a FUCKUP</button>
                <div id="fuckups-container">
                    <div class="round-card fuckup-card" id="round-card"></div>
                </div>
            </section>

            <section class="missions-section">
                <button id="mini-mission-btn">Grab a Mini Mission</button>
                <div id="mini-mission-container"></div>
            </section>

            <section class="goals-section">
                <button id="party-goals-btn">Grab Party Goals</button>
                <div id="party-goals-frame">
                    <div id="party-goal-container"></div>
                </div>

            </section>
        </main>

        <aside class="log-section">
            <h2>Round Log</h2>
            <ul id="log-list"></ul>
        </aside>
    </div>
    <!-- Firebase SDK and App Initialization -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Your Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyDDJ3g2PKE-A_1wn5axTeO4nfNIlIsBJXY",
            authDomain: "rave-tycoon.firebaseapp.com",
            projectId: "rave-tycoon",
            storageBucket: "rave-tycoon.firebasestorage.app",
            messagingSenderId: "230788414135",
            appId: "1:230788414135:web:be2732ed317f9d6fdd6b32",
            measurementId: "G-P4XSYXE1S9"
        };

        // Initialize Firebase
        try {
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
            const auth = getAuth(app);

            // Initialize Firestore with persistence
            const firestoreSettings = {
                cache: {
                    persistenceEnabled: true,
                    persistenceSettings: {
                        synchronizeTabs: true
                    }
                }
            };
            
            // Apply settings to Firestore
            await initializeFirestore(app, firestoreSettings);

            // Make Firebase instances available globally
            window.db = db;
            window.auth = auth;
            
            console.log("‚úÖ Firebase initialized successfully");
        } catch (error) {
            console.error("‚ùå Error initializing Firebase:", error);
        }
    </script>
    
    <script type="module" src="script.js"></script>
</body>
</html>
